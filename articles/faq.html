<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FAQ • tic</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ropensci --><link href="../ropensci.css?nocache=123" rel="stylesheet">
<meta property="og:title" content="FAQ">
<meta property="og:description" content="tic">
<meta name="twitter:card" content="summary">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="../index.html"><i>tic <small>v0.7.0</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tic.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/features.html">Feature Overview</a>
    </li>
    <li>
      <a href="../articles/build-lifecycle.html">The CI Build Lifecycle</a>
    </li>
    <li>
      <a href="../articles/ci-client-packages.html">CI Client Packages</a>
    </li>
    <li>
      <a href="../articles/ci-providers.html">CI Providers</a>
    </li>
    <li>
      <a href="../articles/advanced.html">Advanced Usage</a>
    </li>
    <li>
      <a href="../articles/deployment.html">Deployment</a>
    </li>
    <li>
      <a href="../articles/custom-steps.html">Custom Steps</a>
    </li>
    <li>
      <a href="../articles/faq.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/tic/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>FAQ</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/tic/blob/master/vignettes/faq.Rmd"><code>vignettes/faq.Rmd</code></a></small>
      <div class="hidden name"><code>faq.Rmd</code></div>

    </div>

    
    
<div id="authentication" class="section level2">
<h2 class="hasAnchor">
<a href="#authentication" class="anchor"></a>Authentication</h2>
<div id="q-auth-1" class="section level4">
<h4 class="hasAnchor">
<a href="#q-auth-1" class="anchor"></a>Q-Auth-1</h4>
<p>I am getting an error when using one of <code><a href="https://rdrr.io/pkg/travis/man/use_travis_deploy.html">travis::use_travis_deploy()</a></code>, <code><a href="https://rdrr.io/pkg/circle/man/use_circle_deploy.html">circle::use_circle_deploy()</a></code> or <code><a href="../reference/use_ghactions_deploy.html">tic::use_ghactions_deploy()</a></code>.</p>
<p><strong>Answer</strong></p>
<p>In most cases this is related to API authentication issues. Ensure that the following points are met:</p>
<ol style="list-style-type: decimal">
<li>For Circle CI and Travis CI, install the respective GitHub App from the <a href="https://github.com/marketplace">GitHub Marketplace</a>.</li>
<li>Ensure that you have set the respective API keys for the problematic provider in your <code>.Renviron</code> file. Consult the help pages of the respective <code>use_*_deploy()</code> function for more help.</li>
</ol>
<ul>
<li>GitHub Actions: A <code>GITHUB_PAT</code> with “public_repo” scopes.</li>
<li>Travis CI: Env var <code>R_TRAVIS_ORG</code> or <code>R_TRAVIS_COM</code>, depending on the endpoint you use.</li>
<li>Circle CI: Env var <code>R_CIRCLE</code>.</li>
</ul>
</div>
</div>
<div id="github-actions" class="section level2">
<h2 class="hasAnchor">
<a href="#github-actions" class="anchor"></a>GitHub Actions</h2>
<div id="q-gha-1" class="section level4">
<h4 class="hasAnchor">
<a href="#q-gha-1" class="anchor"></a>Q-GHA-1</h4>
<p>How is {tic} different from what <a href="https://github.com/r-lib/actions">r-lib/actions</a> does?</p>
<p><strong>Answer</strong></p>
<p>{tic} uses <a href="https://github.com/r-lib/actions">r-lib/actions</a> as the base to install R in the first place. However in detail, {tic} does the following things differently which aim to enhance the CI experience:</p>
<ul>
<li><p>Caching: {tic} caches the whole R library rather than only the direct dependendencies of a package. This has the advantage that packages required for side actions ({pkgdown} deployment, README updates) will also be cached.</p></li>
<li><p><code>ccache</code>: {tic} comes with a compiler cache for source installations of packages by default, speeding up repeated source installation highly. The compiler cache directory (<code>.ccache</code>) will also be cached (once a week). Example use case: If you installed {Rcpp} from source as a dependency of your package and have it stored in your cache and {Rcpp} now updates two days later, the reinstallation will make use of the compiler cache and install {Rcpp} instantly rather than recompiling the C code again.</p></li>
<li><p>Number of CPUs: {tic} uses 4 CPUs by default instead of only 1 as <a href="https://github.com/r-lib/actions">r-lib/actions</a> does. This speeds up package installation a lot. 4 CPUs are max because all GitHub Actions runners have 2 hyperthreading cores available.</p></li>
<li><p>Use of SSH deployment keys: Once set up via <code><a href="../reference/use_ghactions_deploy.html">tic::use_ghactions_deploy()</a></code>, this deployment approach makes it possible to push any file of your repository to any branch of your remote. Other deployment approaches often limit you to only push to <code>gh-pages</code> branch or similar.</p></li>
</ul>
</div>
</div>
<div id="travis-ci" class="section level2">
<h2 class="hasAnchor">
<a href="#travis-ci" class="anchor"></a>Travis CI</h2>
<div id="q-travis-1" class="section level4">
<h4 class="hasAnchor">
<a href="#q-travis-1" class="anchor"></a>Q-Travis-1</h4>
<p>What is the difference between travis-ci.org and travis-ci.com and which one should I use?</p>
<p><strong>Answer</strong></p>
<p>When dealing with Travis CI (or the <a href="https://github.com/ropenscilabs/travis">{travis}</a> package) the first time, one might be confused what the difference is between <a href="https://travis-ci.org" class="uri">https://travis-ci.org</a> and <a href="https://travis-ci.com" class="uri">https://travis-ci.com</a>. <a href="https://devops.stackexchange.com/questions/1201/whats-the-difference-between-travis-ci-org-and-travis-ci-com">This devops.stackexchange question</a> gives some insights on the history of both services and why both still exist.</p>
<ul>
<li>Both <a href="https://travis-ci.org" class="uri">https://travis-ci.org</a> and <a href="https://travis-ci.com" class="uri">https://travis-ci.com</a> are the same whereas the future belongs to <a href="https://travis-ci.com" class="uri">https://travis-ci.com</a>.</li>
<li>Due to both being still active, the <a href="https://github.com/ropenscilabs/travis">{travis}</a> package supports both endpoints for API queries.</li>
<li>If you start a new project, we recommend to enable the repo on <a href="https://travis-ci.com" class="uri">https://travis-ci.com</a>. If you are using the {travis] package, the default endpoint is set to <code>".com"</code> so that all function call will try to interact with repositories on <a href="https://travis-ci.com" class="uri">https://travis-ci.com</a>. This can be changed via env var <code>R_TRAVIS</code>.</li>
</ul>
</div>
<div id="q-travis-2" class="section level4">
<h4 class="hasAnchor">
<a href="#q-travis-2" class="anchor"></a>Q-Travis-2</h4>
<p>I am seeing conflicts when deploying a pkgdown site during deployment - it looks like multiple runners are facing a git race condition. I am getting errors like</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">HEAD</span> is now at ada17f3 Deploy from Travis build 13 [ci skip]</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">git</span> cherry-pick --no-commit 8f4e52da03a6ccdb66a140c3ca08be22d57d7288</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="ex">error</span>: could not apply 8f4e52d... Deploy from Travis build 13 [ci skip]</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="ex">hint</span>: after resolving the conflicts, mark the corrected paths</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="ex">hint</span>: with <span class="st">'git add &lt;paths&gt;'</span> or <span class="st">'git rm &lt;paths&gt;'</span></span></code></pre></div>
<p><strong>Answer</strong></p>
<p>Correct. This is because multiple runners building and deploying the pkgdown site nearly at the same time. To prevent this from happening (doing this for one runner is enough) condition the pkgdown step to one runner by setting an env var.</p>
<p>In <code>tic.R</code>:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r">if (ci_on_travis() &amp;&amp; ci_has_env("PKGDOWN") {
  # creates pkgdown site and pushes to gh-pages branch
  do_pkgdown()
}</pre></body></html></div>
<p>and then set this env var for one of the runners in <code>.travis.yml</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">matrix</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="at">  </span><span class="fu">include</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">os</span><span class="kw">:</span><span class="at"> osx</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="at">      </span><span class="fu">r</span><span class="kw">:</span><span class="at"> release</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">os</span><span class="kw">:</span><span class="at"> linux</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="at">      </span><span class="fu">r</span><span class="kw">:</span><span class="at"> release</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="at">      </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="at">      </span><span class="kw">-</span><span class="at"> PKGDOWN=true</span></span></code></pre></div>
</div>
</div>
<div id="appveyor-ci" class="section level2">
<h2 class="hasAnchor">
<a href="#appveyor-ci" class="anchor"></a>Appveyor CI</h2>
<div id="q-appveyor-1" class="section level4">
<h4 class="hasAnchor">
<a href="#q-appveyor-1" class="anchor"></a>Q-Appveyor-1</h4>
</div>
</div>
<div id="appveyor" class="section level2">
<h2 class="hasAnchor">
<a href="#appveyor" class="anchor"></a>Appveyor</h2>
<p>I am facing the following build error:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r">Error in eval(expr, envir = list(`?` = function(...) stop()), enclos = envir) : 
  object 'name' not found
Calls: &lt;Anonymous&gt; ... .transformer -&gt; glue -&gt; glue_data -&gt; &lt;Anonymous&gt; -&gt; .transformer
Execution halted
Command exited with code 1</pre></body></html></div>
<p><strong>Answer</strong></p>
<p>Do you have a private SSH key stored as a secure environment variable in the in <code>appveyor.yml</code>? If yes, it could be that you encrypted while being logged in to a different account than the one the repo is running under in reality. This means if you have access to multiple organizations and your private account on Appveyor, you need to encrypt the environment variable using the account in which repo lives.</p>
</div>
<div id="other" class="section level2">
<h2 class="hasAnchor">
<a href="#other" class="anchor"></a>Other</h2>
<div id="q-other-1" class="section level4">
<h4 class="hasAnchor">
<a href="#q-other-1" class="anchor"></a>Q-Other-1</h4>
<p>Is it possible to update the CI YAML templates installed by {tic} with upstream changes?</p>
<p><strong>Answer</strong></p>
<p>Not yet, you have to run <code><a href="../reference/use_tic.html">use_tic()</a></code> again and save your custom changes beforehand and reapply those. We are planning to add an update mechanism soon though!</p>
<hr>
</div>
<div id="q-other-2" class="section level4">
<h4 class="hasAnchor">
<a href="#q-other-2" class="anchor"></a>Q-Other-2</h4>
<p>Am I the only one using {tic}?</p>
<p><strong>Answer</strong></p>
<p>You can see who and how many people use {tic.R} on GitHub via this query: <a href="https://github.com/search?p=5&amp;q=filename%3Atic.R&amp;type=Code" class="uri">https://github.com/search?p=5&amp;q=filename%3Atic.R&amp;type=Code</a></p>
<hr>
</div>
<div id="q-other-3" class="section level4">
<h4 class="hasAnchor">
<a href="#q-other-3" class="anchor"></a>Q-Other-3</h4>
<p>Package {rgl} fails to install because of either</p>
<ul>
<li>“configure: error: X11 not found but required, configure aborted.”</li>
<li>“error: X11 not found; XQuartz (from www.xquartz.org) is required to run rgl.”</li>
</ul>
<p><strong>Answer</strong></p>
<p>The first one is usually caused by a missing installation of <code>XQuartz</code> on macOS. Add <code>brew cask install xquartz</code> to the runner.</p>
<p>The second error requires to set the <code>DISPLAY</code> env var to mimic a non-headless state. Add <code>export DISPLAY=:99</code> to the stage in which {rgl} should be installed.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Info</h5>
                            <li><a href="https://ropensci.org/about">Mission</a></li>
                            <li><a href="https://ropensci.org/about#team">Team</a></li>
                            <li><a href="https://ropensci.org/about#collaborators">Collaborators</a></li>
                            <li><a href="https://ropensci.org/careers">Careers</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Work</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/blog/">Blog</a></li>
                            <li><a href="https://ropensci.org/technotes/">Tech Notes</a></li>
                            <li><a href="https://ropensci.org/tutorials/">Tutorials</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/resources/">More Resources</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Participate</h5>
                            <li><a href="https://ropensci.org/contact/">Contact us</a></li>
                            <li><a href="https://ropensci.org/community/">Community</a></li>
                            <li><a href="https://ropensci.org/software-review/">Contribute software</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/donate/">Donate</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
</div>

  


  </body>
</html>
